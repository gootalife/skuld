hadoop
hdfs
project
hadoop
hdfs
client
src
main
java
org
apache
hadoop
hdfs
protocol
client
protocol
java
void
set
storage
policy
string
src
string
policy
name
throws
io
exception
idempotent
block
storage
policy
get
storage
policy
string
path
throws
io
exception
hadoop
hdfs
project
hadoop
hdfs
src
main
java
org
apache
hadoop
hdfs
dfs
client
java
public
block
storage
policy
get
storage
policy
string
path
throws
io
exception
check
open
trace
scope
scope
get
path
trace
scope
get
storage
policy
path
try
return
namenode
get
storage
policy
path
catch
remote
exception
throw
unwrap
remote
exception
access
control
exception
class
file
not
found
exception
class
safe
mode
exception
class
unresolved
path
exception
class
finally
scope
close
hadoop
hdfs
project
hadoop
hdfs
src
main
java
org
apache
hadoop
hdfs
protocol
pb
client
namenode
protocol
server
side
translator
pb
java
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
get
snapshottable
dir
listing
response
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
get
storage
policies
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
get
storage
policies
response
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
get
storage
policy
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
get
storage
policy
response
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
is
file
closed
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
is
file
closed
response
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
list
cache
directives
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
encryption
zones
protos
get
ez
for
path
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
encryption
zones
protos
list
encryption
zones
response
proto
import
org
apache
hadoop
hdfs
protocol
proto
encryption
zones
protos
list
encryption
zones
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
hdfs
protos
block
storage
policy
proto
import
org
apache
hadoop
hdfs
protocol
proto
hdfs
protos
datanode
id
proto
import
org
apache
hadoop
hdfs
protocol
proto
hdfs
protos
datanode
info
proto
import
org
apache
hadoop
hdfs
protocol
proto
hdfs
protos
located
block
proto
return
void
set
storage
policy
response
override
public
get
storage
policy
response
proto
get
storage
policy
rpc
controller
controller
get
storage
policy
request
proto
request
throws
service
exception
try
block
storage
policy
proto
policy
pb
helper
convert
server
get
storage
policy
request
get
path
return
get
storage
policy
response
proto
new
builder
set
storage
policy
policy
build
catch
io
exception
throw
new
service
exception
override
public
get
storage
policies
response
proto
get
storage
policies
rpc
controller
controller
get
storage
policies
request
proto
request
hadoop
hdfs
project
hadoop
hdfs
src
main
java
org
apache
hadoop
hdfs
protocol
pb
client
namenode
protocol
translator
pb
java
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
get
snapshottable
dir
listing
response
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
get
storage
policies
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
get
storage
policies
response
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
get
storage
policy
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
is
file
closed
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
list
cache
directives
request
proto
import
org
apache
hadoop
hdfs
protocol
proto
client
namenode
protocol
protos
list
cache
directives
response
proto
override
public
block
storage
policy
get
storage
policy
string
path
throws
io
exception
get
storage
policy
request
proto
request
get
storage
policy
request
proto
new
builder
set
path
path
build
try
return
pb
helper
convert
rpc
proxy
get
storage
policy
null
request
get
storage
policy
catch
service
exception
throw
protobuf
helper
get
remote
exception
override
public
block
storage
policy
get
storage
policies
throws
io
exception
try
hadoop
hdfs
project
hadoop
hdfs
src
main
java
org
apache
hadoop
hdfs
server
namenode
fs
dir
attr
op
java
return
bm
get
storage
policies
static
block
storage
policy
get
storage
policy
fs
directory
fsd
block
manager
bm
string
path
throws
io
exception
fs
permission
checker
pc
fsd
get
permission
checker
byte
path
components
fs
directory
get
path
components
for
reserved
path
path
fsd
read
lock
try
path
fsd
resolve
path
pc
path
path
components
final
nodes
in
path
iip
fsd
get
nodes
in
path
path
false
if
fsd
is
permission
enabled
fsd
check
path
access
pc
iip
fs
action
read
node
inode
iip
get
last
node
if
inode
null
throw
new
file
not
found
exception
file
directory
does
not
exist
iip
get
path
return
bm
get
storage
policy
inode
get
storage
policy
id
finally
fsd
read
unlock
static
long
get
preferred
block
size
fs
directory
fsd
string
src
throws
io
exception
fs
permission
checker
pc
fsd
get
permission
checker
hadoop
hdfs
project
hadoop
hdfs
src
main
java
org
apache
hadoop
hdfs
server
namenode
fs
namesystem
java
log
audit
event
true
set
storage
policy
src
null
audit
stat
block
storage
policy
get
storage
policy
string
src
throws
io
exception
check
operation
operation
category
read
wait
for
loading
fs
image
read
lock
try
check
operation
operation
category
read
return
fs
dir
attr
op
get
storage
policy
dir
block
manager
src
finally
read
unlock
hadoop
hdfs
project
hadoop
hdfs
src
main
java
org
apache
hadoop
hdfs
server
namenode
name
node
rpc
server
java
namesystem
set
storage
policy
src
policy
name
override
public
block
storage
policy
get
storage
policy
string
path
throws
io
exception
check
nn
startup
return
namesystem
get
storage
policy
path
override
public
block
storage
policy
get
storage
policies
throws
io
exception
check
nn
startup
hadoop
hdfs
project
hadoop
hdfs
src
test
java
org
apache
hadoop
hdfs
test
block
storage
policy
java
test
public
void
test
get
storage
policy
throws
exception
final
mini
dfs
cluster
cluster
new
mini
dfs
cluster
builder
conf
num
data
nodes
replication
build
cluster
wait
active
final
distributed
file
system
fs
cluster
get
file
system
try
final
path
dir
new
path
test
get
storage
policy
final
path
foo
file
new
path
dir
foo
dfs
test
util
create
file
fs
foo
file
file
len
replication
dfs
client
client
new
dfs
client
cluster
get
name
node
get
name
node
address
conf
client
set
storage
policy
test
get
storage
policy
foo
hdfs
constants
cold
storage
policy
name
string
policy
name
client
get
storage
policy
test
get
storage
policy
foo
get
name
assert
assert
equals
file
storage
policy
should
be
cold
hdfs
constants
cold
storage
policy
name
policy
name
finally
cluster
shutdown
test
public
void
test
set
storage
policy
with
snapshot
throws
exception
final
mini
dfs
cluster
cluster
new
mini
dfs
cluster
builder
conf
